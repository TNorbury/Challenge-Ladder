<html>
   <head>
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
      <link rel="stylesheet" href="/resources/stylesheet/style.css">
      <title>Ladder -- Register</title>

      <script>
         function ValidatePasswords() {
            var PW = document.getElementById("RegisterPassword").value;
            var confirmPW = document.getElementById("RegisterConfirmPassword").value;

            // If both fields are blank, hide the warnings
            if (PW == "" && confirmPW == "")
            {
               document.getElementById("PWNoMatch").style.display = 'none';
               document.getElementById("PWMatch").style.display = 'none';
            }

            // Let the user know that the passwords match
            else if (PW == confirmPW)
            {
               document.getElementById("PWMatch").style.display = '';
               document.getElementById("PWNoMatch").style.display = 'none';
               document.getElementById("submitRegister").disabled=false;
            }

            // Let the user know that the passwords don't match
            else if (PW != confirmPW)
            {
               document.getElementById("PWNoMatch").style.display = '';
               document.getElementById("PWMatch").style.display = 'none';
               document.getElementById("submitRegister").disabled=true;
            }
         }
         
         function gotoLogin() {
            window.location="/index.html";
         }   

         function removeBadChars(phoneNum) {
            // Replace any characters that aren't numbers, dashes, or parentheses
            phoneNum.value = phoneNum.value.replace(/[^\( \) \- 0-9]/g, "");
         }
      </script>

   </head>
   <body>
      <div class="container mt-5">
         <div id="Register" class="row justify-content-center">
            <div class="text-center col-7" style="border: 3px solid #455772; padding: 12px 20px; background-color:white"> 
               <div class="text-center"> <h2>Register for the Ladder</h2></div>
               <form class="mt-3" action="/secure/registerUser.php" method="post">

                  <div class="form-group row justify-content-between">
                     <label align="left" class="col-2 col-form-label" for="name">Name: </label>
                     <div class="col-8"><input class="form-control" type="text" name="name" title="Please enter your full name" required></div>
                  </div>

                  <div class="form-group row justify-content-between">
                     <label align="left" class="col-2 col-form-label" for="username">Username: </label>
                     <div class="col-8"><input class="form-control" type="text" name="username" title="Please enter a username, you'll use this to log in" required></div>
                  </div>

                  <div class="form-group row justify-content-between">
                     <label align="left" class="col-2 col-form-label" for="email">Email: </label>
                     <div class="col-8"><input class="form-control" type="text" name="email" title="Please enter a valid email. I.e. xxx@xxx.xxx" pattern="[\w\d\-\.]+@[\w\d]+\.[\w \.]{2,}" placeholder="xxx@xxx.com" required></div>
                  </div>

                  <div class="form-group row justify-content-between">
                     <label align="left" class="col-2 col-form-label" for="phone">Phone: </label>
                     <div class="col-8"><input class="form-control" type="tel" name="phone" pattern="[(]?[0-9]{3}[)]?-?[0-9]{3}-?[0-9]{4}" title="Please enter a valid phone number. I.e. xxx-xxx-xxxx, xxxxxxxxxx" placeholder="5035551234" oninput="removeBadChars(this)" required></div>
                  </div>

                  <div class="form-group row justify-content-between">
                     <label align="left" class="col-2 col-form-label" for="password">Password: </label>
                     <div class="col-8"><input class="form-control" id="RegisterPassword" type="password" name="password" oninput="ValidatePasswords()" required></div>
                  </div>
                  
                  <div class="form-group row justify-content-between">
                     <label align="left" class="col-4 col-form-label" for="confirmPassword">Confirm Password: </label>
                     <div class="col-8"><input class="form-control" id="RegisterConfirmPassword" type="password" name="confirmPassword" oninput="ValidatePasswords()" required></div>
                  </div>
                  
                  <div id="PWNoMatch" style="color:red; display:none;">Passwords must match</div>
                  <div id="PWMatch" style="color:green; display:none;">Passwords match</div>

                  <div class="d-flex mt-3 justify-content-between">
                     <div>
                        <input id="submitRegister" class="btn btn-primary" type="submit" disabled=true>
                     </div>
                     <div>
                        <input onClick="gotoLogin()" class="btn btn-primary" type="reset" value="Cancel">
                     </div>
                  </div>
               </form>
            </div>
         </div>
      </div>
   </body>
</html>
